<!DOCTYPE html>
<html>
<head>
    <title>R∆∞·ªõc ƒê√®n √îng Sao</title>
    <style>
        body { 
            margin: 0; 
            background: #1a1a2e; 
            color: white; 
            font-family: Arial; 
            text-align: center;
        }
        canvas { 
            border: 2px solid #ffeb3b; 
            margin: 20px auto; 
            display: block; 
        }
        .back-btn { 
            background: #ffeb3b; 
            color: #1a1a2e; 
            border: none; 
            padding: 10px 20px; 
            margin: 10px; 
            cursor: pointer; 
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>üéè R∆∞·ªõc ƒê√®n √îng Sao</h1>
    <p>ƒêi·ªÅu khi·ªÉn b·∫±ng ph√≠m m≈©i t√™n. Thu th·∫≠p 10 ƒë√®n l·ªìng!</p>
    <canvas id="gameCanvas" width="600" height="400"></canvas>
    <div id="score">ƒêi·ªÉm: 0</div>
    <button class="back-btn" onclick="window.close()">ƒê√≥ng</button>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        let score = 0;
        
        // Nh√¢n v·∫≠t
        const player = {
            x: 300, y: 200, size: 20,
            color: '#ffeb3b',
            speed: 5
        };
        
        // ƒê√®n l·ªìng
        const lanterns = [];
        for (let i = 0; i < 10; i++) {
            lanterns.push({
                x: Math.random() * 560 + 20,
                y: Math.random() * 360 + 20,
                size: 15,
                color: '#ff6b6b',
                collected: false
            });
        }
        
        // ƒêi·ªÅu khi·ªÉn
        const keys = {};
        window.addEventListener('keydown', e => keys[e.key] = true);
        window.addEventListener('keyup', e => keys[e.key] = false);
        
        function update() {
            // Di chuy·ªÉn
            if (keys['ArrowUp'] && player.y > 0) player.y -= player.speed;
            if (keys['ArrowDown'] && player.y < 380) player.y += player.speed;
            if (keys['ArrowLeft'] && player.x > 0) player.x -= player.speed;
            if (keys['ArrowRight'] && player.x < 580) player.x += player.speed;
            
            // Ki·ªÉm tra thu th·∫≠p ƒë√®n
            lanterns.forEach(lantern => {
                if (!lantern.collected) {
                    const dx = player.x - lantern.x;
                    const dy = player.y - lantern.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < player.size + lantern.size) {
                        lantern.collected = true;
                        score++;
                        document.getElementById('score').textContent = `ƒêi·ªÉm: ${score}`;
                        
                        if (score >= 10) {
                            alert('üéâ Ch√∫c m·ª´ng! B·∫°n ƒë√£ r∆∞·ªõc ƒë√®n th√†nh c√¥ng!');
                        }
                    }
                }
            });
        }
        
        function draw() {
            // X√≥a m√†n h√¨nh
            ctx.fillStyle = '#1a1a2e';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // V·∫Ω ƒë√®n l·ªìng
            lanterns.forEach(lantern => {
                if (!lantern.collected) {
                    ctx.fillStyle = lantern.color;
                    ctx.beginPath();
                    ctx.arc(lantern.x, lantern.y, lantern.size, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // √Ånh s√°ng ƒë√®n
                    ctx.shadowColor = lantern.color;
                    ctx.shadowBlur = 15;
                    ctx.fill();
                    ctx.shadowBlur = 0;
                }
            });
            
            // V·∫Ω nh√¢n v·∫≠t
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x - player.size/2, player.y - player.size/2, player.size, player.size);
            
            // V·∫Ω ƒë√®n √¥ng sao
            ctx.fillStyle = '#4ecdc4';
            ctx.beginPath();
            ctx.moveTo(player.x, player.y - 30);
            for (let i = 0; i < 5; i++) {
                const angle = (i * 72 - 90) * Math.PI / 180;
                ctx.lineTo(
                    player.x + Math.cos(angle) * 15,
                    player.y + Math.sin(angle) * 15
                );
            }
            ctx.closePath();
            ctx.fill();
        }
        
        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }
        
        gameLoop();
    </script>
</body>
</html>